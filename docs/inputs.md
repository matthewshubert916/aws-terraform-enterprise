# Terraform Enterprise: Clustering

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:-----:|
| domain | Route53 Domain to manage DNS under | `string` | n/a | yes |
| license\_file | path to license file | `string` | n/a | yes |
| vpc\_id | AWS VPC id to install into | `string` | n/a | yes |
| additional\_no\_proxy | Comma delimitted list of addresses (no spaces) to not use the proxy for | `string` | `""` | no |
| airgap\_installer\_url | URL to airgap installer package | `string` | `"https://s3.amazonaws.com/replicated-airgap-work/replicated__docker__kubernetes.tar.gz"` | no |
| airgap\_package\_url | signed URL to download the package | `string` | `""` | no |
| ami | AMI to launch instance with; defaults to latest Ubuntu Xenial | `string` | `""` | no |
| aws\_access\_key\_id | AWS access key id to connect to s3 with | `string` | `""` | no |
| aws\_instance\_profile | When set, use credentials from the AWS instance profile | `bool` | `false` | no |
| aws\_secret\_access\_key | AWS secret access key to connect to s3 with | `string` | `""` | no |
| ca\_bundle\_url | URL to Custom CA bundle used for outgoing connections | `string` | `"none"` | no |
| cert\_arn | Amazon Resource Name (ARN) for Certificate in the ACM you'd like to use (default uses domain or cert\_domain to look it up) | `string` | `""` | no |
| cert\_domain | domain to search for ACM certificate with (default is *.domain) | `string` | `""` | no |
| distribution | Type of linux distribution to use. (ubuntu or rhel) | `string` | `"ubuntu"` | no |
| egress\_allow\_list | List of CIDR blocks we allow the infrastructyre to access | `set(string)` | <pre>[<br>  "0.0.0.0/0"<br>]</pre> | no |
| encryption\_password | encryption password to use as root secret (default is autogenerated) | `string` | `""` | no |
| hostname | hostname to assign to cluster under domain (default is autogenerated one) | `string` | `""` | no |
| http\_proxy\_url | HTTP(S) Proxy URL | `string` | `""` | no |
| iact\_subnet\_list | List of subnets to allow to access Initial Admin Creation Token (IACT) API. https://www.terraform.io/docs/enterprise/private/automating-initial-user.html | `string` | `""` | no |
| iact\_subnet\_time\_limit | Amount of time to allow access to IACT API after initial boot | `string` | `""` | no |
| import\_key | an ssh pub key to import to all machines | `string` | `""` | no |
| ingress\_allow\_list | List of CIDR blocks we allow to access the infrastructure | `set(string)` | `[]` | no |
| installer\_url | URL to the cluster setup tool | `string` | `"https://install.terraform.io/installer/ptfe-0.1.zip"` | no |
| postgresql\_address | address to connect to external postgresql database at | `string` | `""` | no |
| postgresql\_database | database name to use in exetrnal postgresql database | `string` | `""` | no |
| postgresql\_extra\_params | additional connection string parameters (must be url query params) | `string` | `""` | no |
| postgresql\_password | password to connect to external postgresql database as | `string` | `""` | no |
| postgresql\_user | user to connect to external postgresql database as | `string` | `""` | no |
| prefix | Name prefix for resource names and tags | `string` | `"tfe"` | no |
| primary\_instance\_type | ec2 instance type | `string` | `"m4.xlarge"` | no |
| private\_zone | set to true if your route53 zone is private | `string` | `false` | no |
| release\_sequence | Replicated release sequence number to install - this locks the install to a specific release | `string` | `""` | no |
| repl\_cidr | Specify a non-standard CIDR range for the replicated services. The default is 10.96.0.0/12 | `string` | `""` | no |
| s3\_bucket | S3 bucket to store objects into | `string` | `""` | no |
| s3\_region | Region of the S3 bucket | `string` | `""` | no |
| secondary\_count | The number of secondary cluster nodes to run | `string` | `5` | no |
| secondary\_instance\_type | ec2 instance type (Defaults to `primary_instance_type` if not set.) | `string` | `""` | no |
| ssh\_user | the user to connect to the instance as | `string` | `""` | no |
| startup\_script | shell script to run when primary instance boots the first time | `string` | `""` | no |
| subnet\_tags | tags to use to match subnets to use | `map(string)` | `{}` | no |
| tags | Map of tags to add to all resources | `map(string)` | `{}` | no |
| update\_route53 | whether or not to automatically update route53 records for the cluster | `string` | `true` | no |
| volume\_size | size of the root volume in gb | `string` | `"100"` | no |
| weave\_cidr | Specify a non-standard CIDR range for weave. The default is 10.32.0.0/12 | `string` | `""` | no |

